---
title: 'Exchange Firebase Token'
openapi: 'POST /api/v1/auth/exchange'
---

Exchange a Firebase ID token for custom JWT tokens.

This is the primary authentication endpoint. After initial Firebase authentication,
clients exchange the Firebase token for our custom JWT tokens which are used for
all subsequent API calls.

Returns:
- access_token: Short-lived token (1 hour) for API access
- refresh_token: Long-lived token (30 days) for refreshing access
- user: Basic user information

<RequestExample>

```bash cURL
curl -X POST "https://api.chanl.ai/api/v1/auth/exchange" \
  -H "Content-Type: application/json" \
  -d '{
    "firebase_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjE2NzI5..."
  }'
```

```javascript JavaScript
const response = await fetch('https://api.chanl.ai/api/v1/auth/exchange', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    firebase_token: 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjE2NzI5...'
  })
});

const { data } = await response.json();
console.log('Access token:', data.access_token);
```

```python Python
import requests

response = requests.post(
    'https://api.chanl.ai/api/v1/auth/exchange',
    json={
        'firebase_token': 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjE2NzI5...'
    }
)

data = response.json()['data']
access_token = data['access_token']
```

</RequestExample>

<ResponseExample>

```json Success Response
{
  "success": true,
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "user_123",
      "email": "user@example.com",
      "name": "John Doe",
      "workspaces": [
        {
          "id": "ws_456",
          "name": "Acme Corp",
          "role": "admin"
        }
      ]
    }
  }
}
```

```json Error Response
{
  "success": false,
  "error": {
    "code": "INVALID_FIREBASE_TOKEN",
    "message": "Invalid or expired Firebase token"
  }
}
```

</ResponseExample>